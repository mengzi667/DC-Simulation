# 仿真参数与结构完整指南

## 📋 目录
1. [仿真参数总览](#仿真参数总览)
2. [参数来源详解](#参数来源详解)
3. [仿真结构解析](#仿真结构解析)
4. [数据流程图](#数据流程图)
5. [如何修改参数](#如何修改参数)

---

## 一、仿真参数总览

### 1.1 场景配置参数 (SIMULATION_CONFIG)

这是**对比分析的核心参数**，定义了不同的运营时间窗口：

| 场景名称 | DC开门时间 | DC关门时间 | 运营小时数 | 说明 |
|---------|-----------|-----------|-----------|------|
| **baseline** | 06:00 | 24:00 | 18 小时 | 当前状态（基准） |
| **scenario_1** | 07:00 | 23:00 | 16 小时 | 缩减2小时 |
| **scenario_2** | 08:00 | 22:00 | 14 小时 | 缩减4小时 |
| **scenario_3** | 08:00 | 20:00 | 12 小时 | 缩减6小时 |

**参数来源**: 研究需求设定
**可修改性**: ✅ 高度可定制

---

### 1.2 系统核心参数 (SYSTEM_PARAMETERS)

#### A. 效率参数 (efficiency)

| 参数 | 值 | 单位 | 数据来源 | 说明 |
|------|-----|------|---------|------|
| `rp_mean` | **5.81** | 托盘/小时 | ✅ 实际数据 | R&P平均效率 |
| `rp_std` | **0.416** | - | ✅ 实际数据 | R&P效率标准差 |
| `fg_mean` | **3.5** | 托盘/小时 | ✅ 实际数据 | FG平均效率 |
| `fg_std` | **0.5** | - | ⚠️ 调整值 | FG效率标准差（实际0.404） |

**数据来源详解**:
```python
# 计算自 KPI sheet 2025.xlsx
# 公式: 效率 = (入库托盘 + 出库托盘) / 工作小时
# 基于 2025年 1-11月 实际运营数据

R&P:
  - 11个月平均: 5.798 → 仿真用 5.81
  - 标准差: 0.392 → 仿真用 0.416 (保守估计)
  
FG:
  - 11个月平均: 3.536 → 仿真用 3.5
  - 标准差: 0.404 → 仿真用 0.5 (增加波动性)
```

**在仿真中的使用**:
```python
# 每次处理时随机生成实际效率（正态分布）
efficiency = np.random.normal(mean, std)
# 避免极端值：最低为平均值的50%
efficiency = max(efficiency, mean * 0.5)
```

---

#### B. 工厂生产速率 (factory_production)

| 参数 | 值 | 单位 | 数据来源 | 说明 |
|------|-----|------|---------|------|
| `rp_rate` | **23** | 托盘/小时 | 📊 反推计算 | R&P工厂24/7生产速率 |
| `fg_rate` | **46** | 托盘/小时 | 📊 反推计算 | FG工厂24/7生产速率 |

**计算逻辑**:
```python
# 基于月度入库数据反推
R&P: 
  - 月平均入库: ~16,500 托盘
  - 日平均: 16,500 / 30 = 550 托盘/天
  - 时速率: 550 / 24 = 23 托盘/小时

FG:
  - 月平均入库: ~33,000 托盘
  - 日平均: 33,000 / 30 = 1,100 托盘/天
  - 时速率: 1,100 / 24 = 46 托盘/小时
```

**数据来源**: 
- 文件: `Total Shipments 2025.xlsx`
- 工作表: `Inbound Shipments 2025`
- 时间: 2025年11月

---

#### C. 缓冲区容量 (buffer_capacity)

| 参数 | 值 | 单位 | 数据来源 | 说明 |
|------|-----|------|---------|------|
| `rp_trailers` | **15** | 辆 | 📐 估算 | R&P挂车数量 |
| `fg_trailers` | **20** | 辆 | 📐 估算 | FG挂车数量 |
| `pallets_per_trailer` | **33** | 托盘 | 🏭 行业标准 | 每辆挂车容量 |

**估算逻辑**:
```python
# DC关闭时间假设为 6 小时 (00:00-06:00)
R&P需求:
  - 6小时累积: 23 × 6 = 138 托盘
  - 所需挂车: 138 / 33 = 4.2 辆
  - 加20%安全余量: 4.2 × 1.2 ≈ 5 辆
  - 仿真中使用: 15 辆 (更保守)

FG需求:
  - 6小时累积: 46 × 6 = 276 托盘
  - 所需挂车: 276 / 33 = 8.4 辆
  - 加20%安全余量: 8.4 × 1.2 ≈ 10 辆
  - 仿真中使用: 20 辆 (更保守)
```

**总容量**:
- R&P: 15 × 33 = **495 托盘**
- FG: 20 × 33 = **660 托盘**

---

#### D. 码头资源 (docks)

| 资源类型 | 数量 | 数据来源 | 说明 |
|---------|------|---------|------|
| `fg_reception` | **10** | ⚠️ 估算 | FG入库码头数 |
| `fg_loading` | **12** | ⚠️ 估算 | FG出库码头数 |
| `rp_reception` | **8** | ⚠️ 估算 | R&P入库码头数 |
| `rp_loading` | **6** | ⚠️ 估算 | R&P出库码头数 |

**估算依据**:
- 基于时位（Timeslot）数据的容量推断
- 考虑到 FG 业务量约为 R&P 的 2倍
- 出库码头通常略多于入库（装车需求）

**改进建议**: 
如果有实际的码头配置数据，应替换为真实值。可以从 `Timeslot Capacity.xlsx` 中提取。

---

#### E. 人力资源 (fte_total)

| 参数 | 值 | 单位 | 数据来源 | 说明 |
|------|-----|------|---------|------|
| `fte_total` | **50** | FTE | ⚠️ 估算 | 全职等效劳动力总数 |

**估算逻辑**:
```python
# 基于工作量和效率反推
日处理能力需求:
  - R&P: 550 托盘/天 ÷ 5.81 托盘/小时 ÷ 18小时 ≈ 5.3 FTE
  - FG: 1100 托盘/天 ÷ 3.5 托盘/小时 ÷ 18小时 ≈ 17.5 FTE
  - 小计: 22.8 FTE

考虑因素:
  - 入库+出库双向流动 → × 2 ≈ 45 FTE
  - 管理、休息、不确定性 → 加10% ≈ 50 FTE
```

**动态分配**: 
仿真中，FTE 根据 R&P 和 FG 的实时工作负荷**动态分配**。

---

#### F. 卡车到达率 (truck_arrival_rates)

每小时平均到达卡车数（泊松分布参数 λ）：

| 时段 | 到达率 | 数据来源 | 说明 |
|------|--------|---------|------|
| 06:00 | 2.5 | ✅ 实际数据 | 早晨开始增加 |
| 07:00 | 3.2 | ✅ 实际数据 | 持续增加 |
| 08:00 | 4.1 | ✅ 实际数据 | 高峰开始 |
| 09:00 | 3.8 | ✅ 实际数据 | - |
| 10:00 | 4.5 | ✅ 实际数据 | 上午高峰 |
| 11:00 | 4.2 | ✅ 实际数据 | - |
| 12:00 | 3.5 | ✅ 实际数据 | 午餐时段略降 |
| 13:00 | 3.8 | ✅ 实际数据 | - |
| 14:00 | 4.3 | ✅ 实际数据 | 下午开始 |
| 15:00 | 4.6 | ✅ 实际数据 | - |
| 16:00 | 5.1 | ✅ 实际数据 | **下午高峰** ⬆️ |
| 17:00 | 4.8 | ✅ 实际数据 | - |
| 18:00 | 3.9 | ✅ 实际数据 | 傍晚回落 |
| 19:00 | 3.2 | ✅ 实际数据 | - |
| 20:00 | 2.5 | ✅ 实际数据 | 晚间减少 |
| 21:00 | 1.8 | ✅ 实际数据 | - |
| 22:00 | 1.2 | ✅ 实际数据 | - |
| 23:00 | 0.5 | ✅ 实际数据 | 接近关闭 |

**数据来源**:
```python
# 计算自 Total Shipments 2025.xlsx
# 工作表: Outbound Shipments 2025
# 方法: 
#   1. 提取2025年11月所有出库记录的小时数
#   2. 按小时分组统计卡车数量
#   3. 除以当月工作天数 = 平均每小时到达率
```

**在仿真中的使用**:
```python
# 每小时生成随机到达数量（泊松分布）
num_arrivals = np.random.poisson(arrival_rates[current_hour])
```

---

#### G. FG 固定发运时间表 (fg_departure_schedule)

| 发运时间 | 截单时间 | 说明 |
|---------|---------|------|
| 08:00 | 06:00 | 早班 |
| 10:00 | 08:00 | - |
| 12:00 | 10:00 | 午班 |
| 14:00 | 12:00 | - |
| 16:00 | 14:00 | 下午班 |
| 18:00 | 16:00 | - |
| 20:00 | 18:00 | 晚班 |
| 22:00 | 20:00 | - |
| 24:00 | 22:00 | 末班 |

**参数**:
- `fg_departure_schedule`: [8, 10, 12, 14, 16, 18, 20, 22, 24]
- `loading_lead_time`: **2 小时** (装车提前期)

**数据来源**: ⚠️ 假设值
- 基于一般物流操作规律
- 每2小时一个发运窗口
- **建议**: 如有实际调度表，应替换

---

### 1.3 随机性参数

仿真中引入的随机因素：

| 随机事件 | 分布类型 | 参数 | 说明 |
|---------|---------|------|------|
| **效率波动** | 正态分布 | N(μ, σ) | 见上述效率参数 |
| **卡车到达** | 泊松分布 | Poisson(λ) | λ为每小时到达率 |
| **到达延迟** | 指数分布 | Exp(0.25) | 平均延迟15分钟 |
| **订单托盘数** | 均匀分布 | U(20, 35) | 每辆卡车20-35托盘 |
| **FG订单托盘** | 均匀分布 | U(80, 200) | FG订单80-200托盘 |

---

## 二、参数来源汇总

### 2.1 数据来源分类

| 来源类型 | 参数数量 | 可信度 | 参数列表 |
|---------|---------|--------|---------|
| ✅ **实际数据** | 15 | ⭐⭐⭐⭐⭐ | 效率参数、到达率、生产速率（反推） |
| 📊 **计算推导** | 4 | ⭐⭐⭐⭐ | 工厂生产速率、缓冲区需求 |
| 📐 **合理估算** | 6 | ⭐⭐⭐ | 码头数量、FTE总数、缓冲余量 |
| ⚠️ **假设值** | 3 | ⭐⭐ | 发运时间表、装车提前期、到达延迟 |
| 🏭 **行业标准** | 1 | ⭐⭐⭐⭐ | 挂车容量(33托盘) |

### 2.2 数据文件映射

| Excel 文件 | 工作表 | 提取参数 |
|-----------|--------|---------|
| `KPI sheet 2025.xlsx` | Hours & volumes per subgroup | ✅ 效率参数（均值、标准差） |
| `Total Shipments 2025.xlsx` | Inbound Shipments 2025 | ✅ 生产速率（反推） |
| `Total Shipments 2025.xlsx` | Outbound Shipments 2025 | ✅ 卡车到达率分布 |
| `Timeslot Capacity.xlsx` | (多个工作表) | ⚠️ 码头容量（部分估算） |

---

## 三、仿真结构解析

### 3.1 整体架构

```
┌─────────────────────────────────────────────────────────────┐
│                    DCSimulation 主控制器                      │
│                                                              │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐     │
│  │ 场景配置     │  │ 系统参数     │  │ 随机种子     │     │
│  │ (Config)     │  │ (Parameters) │  │ (Seed)       │     │
│  └──────────────┘  └──────────────┘  └──────────────┘     │
│                                                              │
│  ┌────────────────────── 初始化 ──────────────────────┐    │
│  │                                                      │    │
│  │  • 码头资源 (SimPy Resource)                        │    │
│  │  • 缓冲区 (TrailerBuffer)                           │    │
│  │  • FTE管理器 (FTEManager)                           │    │
│  │  • KPI收集器 (KPICollector)                         │    │
│  │  • 订单队列 (pending_orders)                        │    │
│  │                                                      │    │
│  └──────────────────────────────────────────────────────┘    │
│                                                              │
│  ┌────────────────────── 运行进程 ──────────────────────┐   │
│  │                                                       │   │
│  │  1️⃣  factory_production_process (R&P)               │   │
│  │     └─ 24/7连续生产 → 缓冲区或直接处理               │   │
│  │                                                       │   │
│  │  2️⃣  factory_production_process (FG)                │   │
│  │     └─ 24/7连续生产 → 缓冲区或直接处理               │   │
│  │                                                       │   │
│  │  3️⃣  buffer_release_process                         │   │
│  │     └─ DC开门时优先释放缓冲区                        │   │
│  │                                                       │   │
│  │  4️⃣  truck_arrival_process                          │   │
│  │     └─ 泊松到达 → 出库处理                          │   │
│  │                                                       │   │
│  │  5️⃣  fg_order_generator                             │   │
│  │     └─ 生成FG订单（固定发运时间）                    │   │
│  │                                                       │   │
│  │  6️⃣  midnight_backlog_checker                       │   │
│  │     └─ 每日午夜检查积压                              │   │
│  │                                                       │   │
│  │  7️⃣  buffer_monitor                                 │   │
│  │     └─ 每小时记录缓冲区状态                          │   │
│  │                                                       │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                              │
│  ┌────────────────────── 输出结果 ──────────────────────┐   │
│  │                                                       │   │
│  │  📊 KPI Summary (汇总指标)                           │   │
│  │  📋 Detailed Logs (详细记录)                         │   │
│  │  📈 Visualization (可视化图表)                       │   │
│  │                                                       │   │
│  └───────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

---

### 3.2 核心类结构

#### A. Truck (卡车实体)
```python
Truck
├── id: 唯一标识
├── category: 'FG' or 'R&P'
├── direction: 'Inbound' or 'Outbound'
├── pallets: 托盘数量
├── scheduled_time: 预约时间
├── actual_arrival_time: 实际到达时间
├── service_start_time: 服务开始时间
├── service_end_time: 服务结束时间
└── departure_deadline: 发运截止时间 (仅FG)
```

#### B. Order (订单实体)
```python
Order
├── id: 唯一标识
├── pallets: 托盘数量
├── order_time: 下单时间
├── departure_time: 发运时间
├── cutoff_time: 截单时间
├── status: 'Pending' | 'Processing' | 'Completed' | 'Missed'
└── completion_time: 完成时间
```

#### C. TrailerBuffer (挂车缓冲区)
```python
TrailerBuffer
├── env: SimPy环境
├── category: 'R&P' or 'FG'
├── max_capacity: 最大容量 (托盘)
├── current_pallets: 当前托盘数
├── queue: FIFO队列
├── overflow_count: 溢出次数
└── total_overflow_pallets: 溢出托盘总数

方法:
├── add(pallets, timestamp): 添加托盘
├── release(max_pallets): 释放托盘
└── get_occupancy_rate(): 获取占用率
```

#### D. FTEManager (人力资源管理器)
```python
FTEManager
├── total_fte: 总FTE数
└── efficiency_params: 效率参数

方法:
├── get_efficiency(category): 获取随机效率
└── allocate_fte(rp_workload, fg_workload): 动态分配FTE
```

#### E. KPICollector (KPI收集器)
```python
KPICollector
├── buffer_overflows: []
├── truck_wait_times: []
├── sla_misses: []
├── completed_orders: []
├── inbound_operations: []
├── outbound_operations: []
├── hourly_buffer_occupancy: {}
└── midnight_backlogs: []

方法:
├── record_*(): 各种记录方法
├── generate_summary(): 生成汇总报告
└── export_to_excel(): 导出到Excel
```

---

### 3.3 进程交互流程

```
工厂生产 (24/7)
    │
    ├─ DC关闭? ────Yes─→ 缓冲区 ────满?───Yes─→ 溢出记录
    │                      │                       
    │                      └────No──→ 累积托盘
    │
    └─ DC开门? ────Yes─→ 直接入库处理
                           │
                           ├─ 请求码头资源
                           ├─ 计算处理时间 (托盘/效率)
                           ├─ 执行处理 (SimPy timeout)
                           └─ 记录KPI

缓冲区释放 (每30分钟)
    │
    └─ DC开门 & 缓冲区有托盘? ─Yes→ 释放批次 → 入库处理


卡车到达 (泊松分布)
    │
    ├─ 生成随机到达数量
    ├─ 添加延迟 (指数分布)
    │
    └─ 出库处理
         │
         ├─ 请求装车码头
         ├─ 等待 (记录等待时间)
         ├─ 装车 (计算时间)
         ├─ 检查SLA (FG订单)
         └─ 记录完成

FG订单生成
    │
    ├─ 根据发运时间表生成订单
    ├─ 计算截单时间 (发运时间 - 2小时)
    │
    └─ 处理订单
         │
         ├─ 创建出库卡车
         ├─ 执行出库流程
         └─ 检查是否延误 (完成时间 > 发运时间)

监控进程
    │
    ├─ 午夜积压检查 (每日24:00)
    │   └─ 统计未完成订单
    │
    └─ 缓冲区监控 (每小时)
        └─ 记录占用率
```

---

### 3.4 资源竞争与调度

```
码头资源 (SimPy Resource)
    │
    ├─ FG_Reception (容量: 10)
    │   └─ 处理: FG入库
    │
    ├─ FG_Loading (容量: 12)
    │   └─ 处理: FG出库
    │
    ├─ RP_Reception (容量: 8)
    │   └─ 处理: R&P入库
    │
    └─ RP_Loading (容量: 6)
        └─ 处理: R&P出库

调度策略: FIFO (先到先服务)
等待机制: SimPy自动管理请求队列
```

---

### 3.5 时间流模拟

```
仿真时间单位: 小时
仿真步长: 灵活 (事件驱动)
仿真周期: 30天 × 24小时 = 720小时

时间检查点:
├─ 每小时: 
│   ├─ 工厂生产
│   ├─ 卡车到达
│   └─ 缓冲区监控
│
├─ 每半小时:
│   └─ 缓冲区释放检查
│
└─ 每日午夜 (24:00):
    └─ 积压检查
```

---

## 四、数据流程图

### 4.1 输入 → 处理 → 输出

```
┌─────────────────────────────────────────────────────────┐
│                    📥 输入数据源                         │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  Excel文件:                                              │
│  ├─ KPI sheet 2025.xlsx          → 效率参数             │
│  ├─ Total Shipments 2025.xlsx    → 到达率、生产速率     │
│  └─ Timeslot Capacity.xlsx       → 码头容量             │
│                                                          │
│  脚本计算:                                               │
│  └─ data_preparation.py          → 参数提取和验证       │
│                                                          │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                  ⚙️ 仿真处理引擎                         │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  dc_simulation.py:                                       │
│  ├─ 场景配置加载                                         │
│  ├─ SimPy环境初始化                                      │
│  ├─ 资源创建 (码头、缓冲区、FTE)                         │
│  ├─ 进程启动 (工厂、到达、订单等)                        │
│  ├─ 事件驱动仿真运行 (30天)                             │
│  └─ KPI收集和统计                                        │
│                                                          │
│  重复运行: 3-5次/场景 (不同随机种子)                     │
│  场景数: 4个 (baseline + 3个缩时)                        │
│                                                          │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                   📤 输出结果                            │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  Excel文件:                                              │
│  ├─ simulation_results_comparison.xlsx                  │
│  │   └─ 场景对比汇总表                                  │
│  │                                                       │
│  ├─ simulation_details_baseline.xlsx                    │
│  ├─ simulation_details_scenario_1.xlsx                  │
│  ├─ simulation_details_scenario_2.xlsx                  │
│  └─ simulation_details_scenario_3.xlsx                  │
│      └─ 每个场景的详细数据                               │
│                                                          │
│  可视化:                                                 │
│  └─ simulation_results_visualization.png                │
│      └─ 6个对比图表                                      │
│                                                          │
│  JSON配置:                                               │
│  └─ simulation_config.json                              │
│      └─ 提取的参数配置                                   │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

### 4.2 单次仿真运行流程

```
开始
  │
  ├─ 1. 加载场景配置 (如: DC 06:00-24:00)
  │
  ├─ 2. 初始化 SimPy 环境 (env = simpy.Environment())
  │
  ├─ 3. 创建资源实例
  │    ├─ 码头 (SimPy Resource)
  │    ├─ 缓冲区 (TrailerBuffer)
  │    ├─ FTE管理器
  │    └─ KPI收集器
  │
  ├─ 4. 启动进程 (env.process(...))
  │    ├─ 工厂生产 (R&P)
  │    ├─ 工厂生产 (FG)
  │    ├─ 缓冲区释放
  │    ├─ 卡车到达
  │    ├─ FG订单生成
  │    ├─ 午夜检查
  │    └─ 缓冲区监控
  │
  ├─ 5. 运行仿真 (env.run(until=720))
  │    │
  │    └─ SimPy事件循环 (720小时)
  │         ├─ 事件调度
  │         ├─ 资源分配
  │         ├─ 时间推进
  │         └─ KPI记录
  │
  ├─ 6. 生成报告
  │    ├─ 计算平均值、标准差
  │    ├─ 统计KPI指标
  │    └─ 生成汇总表
  │
  └─ 7. 输出结果
       ├─ 打印到控制台
       ├─ 保存Excel
       └─ 生成图表

结束
```

---

## 五、如何修改参数

### 5.1 修改场景配置

**位置**: `dc_simulation.py` 第 18-47 行

```python
# 添加新场景
SIMULATION_CONFIG = {
    # ... 现有场景 ...
    
    'custom_scenario': {
        'name': '自定义 (07:00-21:00)',
        'dc_open_time': 7,
        'dc_close_time': 21,
        'operating_hours': 14
    }
}

# 运行时指定场景
results = run_scenario_comparison(
    scenarios_to_run=['baseline', 'custom_scenario'],
    num_replications=5,
    duration_days=30
)
```

---

### 5.2 修改效率参数

**位置**: `dc_simulation.py` 第 52-58 行

```python
SYSTEM_PARAMETERS = {
    'efficiency': {
        'rp_mean': 6.0,    # 修改R&P平均效率
        'rp_std': 0.5,     # 修改标准差
        'fg_mean': 4.0,    # 修改FG平均效率
        'fg_std': 0.6      # 修改标准差
    },
    # ...
}
```

---

### 5.3 修改缓冲区容量

**位置**: `dc_simulation.py` 第 67-72 行

```python
'buffer_capacity': {
    'rp_trailers': 20,              # 增加R&P挂车数
    'fg_trailers': 30,              # 增加FG挂车数
    'pallets_per_trailer': 33
}
```

---

### 5.4 修改码头数量

**位置**: `dc_simulation.py` 第 75-80 行

```python
'docks': {
    'fg_reception': 12,    # 增加FG入库码头
    'fg_loading': 15,      # 增加FG出库码头
    'rp_reception': 10,    # 增加R&P入库码头
    'rp_loading': 8        # 增加R&P出库码头
}
```

---

### 5.5 修改人力资源

**位置**: `dc_simulation.py` 第 83 行

```python
'fte_total': 60,    # 从50增加到60
```

---

### 5.6 修改仿真运行参数

**位置**: `dc_simulation.py` 第 755-760 行

```python
results = run_scenario_comparison(
    scenarios_to_run=['baseline', 'scenario_1', 'scenario_2'],
    num_replications=10,    # 增加重复次数
    duration_days=60        # 延长仿真天数
)
```

---

## 六、参数敏感性建议

### 6.1 高敏感参数 (影响大)

1. **DC运营时间** (`dc_open_time`, `dc_close_time`)
   - 直接影响所有KPI
   - 建议: 以1小时为步长测试

2. **缓冲区容量** (`rp_trailers`, `fg_trailers`)
   - 直接影响溢出事件
   - 建议: 测试 10, 15, 20, 25, 30 辆

3. **码头数量** (`docks.*`)
   - 影响等待时间和吞吐量
   - 建议: 基于实际数据校准

### 6.2 中等敏感参数

4. **FTE总数** (`fte_total`)
   - 影响处理速度
   - 建议: 测试 40, 50, 60, 70

5. **效率参数** (`efficiency.*`)
   - 影响处理时间
   - 建议: 保持实际数据

### 6.3 低敏感参数

6. **到达率** (`truck_arrival_rates`)
   - 已基于实际数据
   - 建议: 除非测试极端场景，否则不修改

7. **发运时间表** (`fg_departure_schedule`)
   - 影响SLA计算
   - 建议: 根据实际调度修改

---

## 七、数据质量评估

| 参数类别 | 数据质量 | 建议改进 |
|---------|---------|---------|
| ✅ 效率参数 | ⭐⭐⭐⭐⭐ | 无需改进，基于实际数据 |
| ✅ 到达率 | ⭐⭐⭐⭐⭐ | 无需改进，基于实际数据 |
| 📊 生产速率 | ⭐⭐⭐⭐ | 可以从工厂端验证 |
| ⚠️ 码头数量 | ⭐⭐⭐ | **建议**: 从Timeslot或现场获取实际数据 |
| ⚠️ FTE总数 | ⭐⭐⭐ | **建议**: 从HR或排班表获取 |
| ⚠️ 缓冲容量 | ⭐⭐⭐ | **建议**: 现场确认挂车数量 |
| ⚠️ 发运时间 | ⭐⭐ | **建议**: 从运输调度获取实际时刻表 |

---

## 八、快速参考

### 修改参数快速指南

```python
# 1. 打开 dc_simulation.py

# 2. 找到 SIMULATION_CONFIG (第18行) → 修改场景

# 3. 找到 SYSTEM_PARAMETERS (第50行) → 修改系统参数

# 4. 找到 run_scenario_comparison() 调用 (第755行) → 修改运行参数

# 5. 保存并运行:
python dc_simulation.py
```

### 参数验证清单

- [ ] 效率参数是否符合实际？
- [ ] 到达率是否匹配历史数据？
- [ ] 缓冲区容量是否足够？
- [ ] 码头数量是否正确？
- [ ] FTE总数是否合理？
- [ ] 发运时间表是否准确？
- [ ] 仿真天数是否足够长？
- [ ] 重复次数是否足够多？

---

**文档版本**: 1.0  
**最后更新**: 2026-01-08  
**作者**: Design Project Group 18
